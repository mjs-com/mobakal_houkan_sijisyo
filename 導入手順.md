# モバカル訪問看護指示書 日付自動入力ツール - 導入手順

## 概要

このChrome拡張機能は、電子カルテ「モバカル」の訪問看護指示書作成ページにおいて、拡張機能のアイコンをクリックするだけで、4つの日付入力欄に自動計算された日付を入力するツールです。

## 動作環境

- Google Chrome（最新版推奨）
- Windows / macOS / Linux 対応

## インストール手順

### 1. 拡張機能ファイルの準備

1. このプロジェクトのフォルダを任意の場所に保存してください
2. フォルダ内に以下のファイルが含まれていることを確認してください：
   - `manifest.json`
   - `background.js`
   - `content.js`

### 2. Chrome拡張機能の読み込み

1. Google Chromeを起動します
2. アドレスバーに `chrome://extensions/` と入力してEnterキーを押します
3. 画面右上の「デベロッパーモード」をONにします
4. 画面左上の「パッケージ化されていない拡張機能を読み込む」ボタンをクリックします
5. このプロジェクトのフォルダを選択します
6. 拡張機能が正常に読み込まれると、拡張機能一覧に表示されます

### 3. アイコンのピン留め（推奨）

1. Chromeのツールバー右側の拡張機能アイコン（パズルピースのアイコン）をクリックします
2. 「モバカル訪問看護指示書 日付自動入力」の拡張機能を見つけます
3. ピン留めアイコンをクリックして、ツールバーに常に表示されるようにします

## 使い方

### 基本的な使用方法

1. モバカルの訪問看護指示書作成ページを開きます
2. ツールバーに表示されている拡張機能のアイコンをクリックします
3. 以下の4つの日付入力欄に自動的に日付が入力されます：
   - **診療日（検索用）** (`disp_date`): 実行した月の22日
   - **記入日** (`char1_kinyubi`): 実行した月の22日
   - **訪看指示期間（開始）** (`char1_houkanstart`): 翌月の1日
   - **訪看指示期間（終了）** (`char1_houkanend`): 翌月の末日

### 日付の計算例

本日が **2025年12月24日** の場合：

- 診療日（検索用）: `2025-12-22`
- 記入日: `2025-12-22`
- 訪看指示期間（開始）: `2026-01-01`
- 訪看指示期間（終了）: `2026-01-31`

### 注意事項

- すべての日付は `YYYY-MM-DD` 形式で入力されます
- ページが完全に読み込まれてからアイコンをクリックしてください
- 入力欄が見つからない場合、ブラウザの開発者ツール（F12キー）のコンソールにエラーメッセージが表示されます

## トラブルシューティング

### 拡張機能が動作しない場合

1. **拡張機能が有効になっているか確認**
   - `chrome://extensions/` を開き、拡張機能が有効（ON）になっているか確認してください

2. **ページの再読み込み**
   - モバカルのページを再読み込み（F5キー）してから、再度アイコンをクリックしてください

3. **コンソールでエラーを確認**
   - ブラウザの開発者ツール（F12キー）を開き、「Console」タブでエラーメッセージを確認してください
   - 入力欄が見つからない場合は、ページのHTML構造が変更されている可能性があります

4. **拡張機能の再読み込み**
   - `chrome://extensions/` で拡張機能の「再読み込み」ボタンをクリックしてください

### 日付が正しく入力されない場合

- 入力欄の `name` 属性が以下の通りであることを確認してください：
  - `disp_date`
  - `char1_kinyubi`
  - `char1_houkanstart`
  - `char1_houkanend`
- ページのHTML構造が変更されている可能性があります

## アンインストール方法

1. `chrome://extensions/` を開きます
2. 「モバカル訪問看護指示書 日付自動入力」の拡張機能を見つけます
3. 「削除」ボタンをクリックします

## サポート

問題が発生した場合は、開発者に連絡するか、GitHubのIssuesで報告してください。

