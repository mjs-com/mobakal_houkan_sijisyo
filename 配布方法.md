# モバカル訪問看護指示書 日付自動入力ツール - 配布方法

## 概要

この拡張機能を他のユーザーに配布する方法を説明します。ユーザーにとって最も簡単な方法から順に説明します。

## 配布方法の比較

| 方法 | 難易度 | セキュリティ警告 | 審査 | 推奨度 |
|------|--------|------------------|------|--------|
| **方法1: ZIPファイル配布** | ⭐ 簡単 | なし | 不要 | ⭐⭐⭐ 推奨 |
| **方法2: .crxファイル配布** | ⭐⭐ やや簡単 | あり（初回のみ） | 不要 | ⭐⭐ |
| **方法3: Chrome Web Store公開** | ⭐⭐⭐ 複雑 | なし | 必要 | ⭐ |

---

## 方法1: ZIPファイル配布（推奨）

### メリット
- ✅ 最も簡単
- ✅ セキュリティ警告が出ない
- ✅ 審査不要
- ✅ すぐに配布可能

### デメリット
- ⚠️ ユーザーが「デベロッパーモード」を有効にする必要がある

### 配布手順（配布者側）

1. **プロジェクトフォルダをZIP化**
   - プロジェクトフォルダ（`mobakal_houkan_sijisyo`）を右クリック
   - 「送る」→「圧縮（zip形式）フォルダー」を選択
   - または、フォルダを選択して右クリック → 「圧縮」を選択
   - ZIPファイル名は `mobakal_houkan_sijisyo.zip` など分かりやすい名前にする

2. **ZIPファイルを配布**
   - メール、ファイル共有サービス、USBメモリなどで配布

### インストール手順（ユーザー側）

1. **ZIPファイルを解凍**
   - ダウンロードしたZIPファイルを右クリック
   - 「すべて展開」または「ここに展開」を選択
   - 解凍されたフォルダを任意の場所に保存（例：デスクトップ、ドキュメントフォルダ）

2. **Chrome拡張機能を読み込む**
   - Google Chromeを起動
   - アドレスバーに `chrome://extensions/` と入力してEnterキーを押す
   - 画面右上の「デベロッパーモード」をONにする
   - 画面左上の「パッケージ化されていない拡張機能を読み込む」ボタンをクリック
   - 解凍したフォルダ（`mobakal_houkan_sijisyo`）を選択
   - 拡張機能が読み込まれると、拡張機能一覧に表示されます

3. **アイコンのピン留め（推奨）**
   - Chromeのツールバー右側の拡張機能アイコン（パズルピースのアイコン）をクリック
   - 「モバカル訪問看護指示書 日付自動入力」の拡張機能を見つける
   - ピン留めアイコンをクリックして、ツールバーに常に表示されるようにする

4. **使い方**
   - モバカルの訪問看護指示書作成ページを開く
   - 拡張機能のアイコンをクリック
   - 4つの日付入力欄に自動的に日付が入力されます

---

## 方法2: .crxファイル配布

### メリット
- ✅ ファイル1つで配布できる
- ✅ 審査不要

### デメリット
- ⚠️ 初回インストール時にセキュリティ警告が出る
- ⚠️ ユーザーが警告を無視してインストールする必要がある

### 配布手順（配布者側）

1. **.crxファイルを作成**
   - Chromeで `chrome://extensions/` を開く
   - 「デベロッパーモード」をONにする
   - 「パッケージ化されていない拡張機能を読み込む」でプロジェクトフォルダを読み込む
   - 「拡張機能をパッケージ化」または「Pack extension」ボタンをクリック
   - 「拡張機能のルートディレクトリ」でプロジェクトフォルダを選択
   - 「パッケージ化」ボタンをクリック
   - `.crx` ファイルと `.pem` キーファイルが生成されます
   - **重要**: `.pem` ファイルは安全に保管してください（更新時に必要です）

2. **.crxファイルを配布**
   - 生成された `.crx` ファイルを配布
   - `.pem` ファイルは配布しない（配布者側で保管）

### インストール手順（ユーザー側）

1. **.crxファイルをダウンロード**
   - 配布された `.crx` ファイルをダウンロード

2. **Chrome拡張機能をインストール**
   - Chromeで `chrome://extensions/` を開く
   - 「デベロッパーモード」をONにする
   - `.crx` ファイルをドラッグ&ドロップで `chrome://extensions/` ページにドロップ
   - または、`.crx` ファイルをダブルクリック
   - **セキュリティ警告が表示される場合**:
     - 「この拡張機能は確認されていません」という警告が表示されます
     - 「拡張機能をインストール」または「続行」をクリック
     - これは、Chrome Web Store以外からインストールする際の正常な警告です

3. **アイコンのピン留め（推奨）**
   - 方法1と同じ手順

---

## 方法3: Chrome Web Storeに公開

### メリット
- ✅ セキュリティ警告が出ない
- ✅ 自動更新が可能
- ✅ 公式な配布方法

### デメリット
- ⚠️ 審査が必要（数日〜数週間かかる場合がある）
- ⚠️ 開発者登録料が必要（初回のみ $5）
- ⚠️ プライバシーポリシーや利用規約の作成が必要

### 公開手順

1. **Chrome Web Store Developer Dashboardに登録**
   - [Chrome Web Store Developer Dashboard](https://chrome.google.com/webstore/devconsole) にアクセス
   - Googleアカウントでログイン
   - 初回のみ $5 の登録料を支払う

2. **拡張機能をパッケージ化**
   - 方法2と同じ手順で `.crx` ファイルを作成
   - または、ZIPファイルを作成（Chrome Web StoreではZIPファイルも受け付けます）

3. **ストア用の情報を準備**
   - アイコン画像（128x128、48x48、16x16）
   - スクリーンショット（1280x800 または 640x400）
   - 詳細な説明文
   - プライバシーポリシーのURL（外部サイトに公開する必要があります）

4. **アップロードと公開**
   - Developer Dashboardで「新しいアイテム」をクリック
   - ZIPファイルまたは `.crx` ファイルをアップロード
   - 必要な情報を入力
   - 「公開」ボタンをクリック
   - 審査が完了すると公開されます

---

## 推奨される配布方法

### 小規模な配布（10人以下）
**推奨: 方法1（ZIPファイル配布）**
- 最も簡単で、セキュリティ警告も出ない
- ユーザーに「デベロッパーモード」の有効化を案内するだけ

### 中規模な配布（10〜50人）
**推奨: 方法1（ZIPファイル配布）または 方法2（.crxファイル配布）**
- 方法1が最も安全
- 方法2はファイル1つで配布できるが、セキュリティ警告が出る

### 大規模な配布（50人以上）または一般公開
**推奨: 方法3（Chrome Web Store公開）**
- 公式な配布方法
- 自動更新が可能
- セキュリティ警告が出ない

---

## 配布時の注意事項

### 必須ファイル
配布するZIPファイルまたはフォルダには、以下のファイルが含まれている必要があります：

- ✅ `manifest.json`
- ✅ `background.js`
- ✅ `content.js`
- ✅ `icon16.png`
- ✅ `icon48.png`
- ✅ `icon128.png`

### 不要なファイル
以下のファイルは配布に含めなくても動作しますが、含めても問題ありません：

- `README.md`
- `導入手順.md`
- `開発者向け仕様書.md`
- `デバッグ手順.md`
- `配布方法.md`（本ファイル）
- `.git` フォルダ（Gitリポジトリの場合）

### セキュリティについて
- 配布するファイルは、信頼できるユーザーにのみ配布してください
- メールで配布する場合は、送信者を確認できるようにしてください
- ファイル共有サービスを使用する場合は、アクセス権限を適切に設定してください

---

## ユーザー向け簡易インストールガイド（配布時に添付）

以下の内容をテキストファイル（`インストール手順.txt`）として配布に含めることを推奨します：

```
========================================
モバカル訪問看護指示書 日付自動入力ツール
インストール手順
========================================

【手順1】ZIPファイルを解凍
1. ダウンロードしたZIPファイルを右クリック
2. 「すべて展開」を選択
3. 解凍されたフォルダを任意の場所に保存

【手順2】Chrome拡張機能を読み込む
1. Google Chromeを起動
2. アドレスバーに「chrome://extensions/」と入力してEnter
3. 右上の「デベロッパーモード」をONにする
4. 左上の「パッケージ化されていない拡張機能を読み込む」をクリック
5. 解凍したフォルダを選択

【手順3】アイコンをピン留め（推奨）
1. Chromeのツールバー右側の拡張機能アイコン（パズルピース）をクリック
2. 「モバカル訪問看護指示書 日付自動入力」を見つける
3. ピン留めアイコンをクリック

【使い方】
1. モバカルの訪問看護指示書作成ページを開く
2. 拡張機能のアイコンをクリック
3. 4つの日付入力欄に自動的に日付が入力されます

【トラブルシューティング】
- 拡張機能が表示されない場合：
  → chrome://extensions/ で「デベロッパーモード」がONになっているか確認
  → 拡張機能を再読み込み（🔄ボタン）

- 日付が入力されない場合：
  → ページをリロード（F5キー）してから再度アイコンをクリック
  → ページが完全に読み込まれるまで待つ

========================================
```

---

## 更新の配布方法

### 方法1（ZIPファイル配布）の場合
- 更新されたZIPファイルを配布
- ユーザーは古い拡張機能を削除してから、新しいZIPファイルを読み込む

### 方法2（.crxファイル配布）の場合
- 新しい `.crx` ファイルを配布
- ユーザーは古い拡張機能を削除してから、新しい `.crx` ファイルをインストール
- または、同じ `.pem` ファイルを使用して更新版を作成すれば、自動更新される場合がある

### 方法3（Chrome Web Store公開）の場合
- Developer Dashboardで新しいバージョンをアップロード
- 審査が完了すると、ユーザーのChromeが自動的に更新を検知して更新を提案

---

## まとめ

**最も簡単な配布方法: 方法1（ZIPファイル配布）**

1. プロジェクトフォルダをZIP化
2. ZIPファイルを配布
3. ユーザーに「デベロッパーモード」を有効化してもらう
4. ユーザーがZIPファイルを解凍して読み込む

この方法が最もシンプルで、セキュリティ警告も出ません。

